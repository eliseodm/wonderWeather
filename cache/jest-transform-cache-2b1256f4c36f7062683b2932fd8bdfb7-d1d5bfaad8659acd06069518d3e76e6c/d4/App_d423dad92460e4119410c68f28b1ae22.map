{"version":3,"names":["App","useState","listOfCities","citiesList","setCitiesList","selectedCity","setSelectedCity","usePublicIp","publicIpV4","useLocationInfo","locationData","useForecastInfo","lat","lon","forecastInfo","todayInfo","loading","isCurrentLocation","city","useEffect","onSelectCity","useCallback","option","styles","container","appTitle","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent","fontSize","fontWeight","marginTop"],"sources":["App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport {\n  ActivityIndicator,\n  SafeAreaView,\n  StyleSheet,\n  Text,\n} from 'react-native';\n\n\nimport MainWeatherCard from './components/MainWeatherCard/MainWeatherCard';\nimport ForecastContainer from './components/ForecastContainer/ForecastContainer';\nimport SelectedCityModal from './components/SelectedCityModal/SelectedCityModal';\n\nimport usePublicIp from \"./hooks/usePublicIp\";\nimport useLocationInfo from \"./hooks/useLocationInfo\";\nimport useForecastInfo from './hooks/useForecastInfo';\nimport { listOfCities } from \"./constants\";\n\nconst App = () => {\n  const [citiesList, setCitiesList] = useState(listOfCities);\n  const [selectedCity, setSelectedCity] = useState({});\n  const { publicIpV4 } = usePublicIp();\n  const { locationData } = useLocationInfo(publicIpV4);\n  const { forecastInfo, todayInfo, loading } = useForecastInfo(\n    selectedCity.lat,\n    selectedCity.lon\n  );\n  \n  const isCurrentLocation = locationData && locationData.city === selectedCity.city;\n\n  useEffect(() => {\n    if (\n      locationData !== null &&\n      locationData.city &&\n      citiesList[0].city !== locationData.city\n    ) {\n      setCitiesList([locationData, ...citiesList]);\n      setSelectedCity(locationData);\n    }\n  }, [locationData, setCitiesList, citiesList]);\n\n  const onSelectCity = useCallback((option) => {\n    setSelectedCity(option);\n  }, []);\n\n  if(loading){\n    return <SafeAreaView style={styles.loading}>\n              <ActivityIndicator testID=\"App.ActivityIndicator\" size=\"large\" />\n          </SafeAreaView>;\n  }\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <Text style={styles.appTitle}>Wonder Weather</Text>\n      <MainWeatherCard\n        isCurrentLocation={isCurrentLocation}\n        cityInfo={{ ...todayInfo, ...selectedCity }}\n      />\n      <ForecastContainer\n        forecastInfo={forecastInfo}\n      />\n      <SelectedCityModal\n        onSelectCity={onSelectCity}\n        citiesList={citiesList}\n      />\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n  },\n  appTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginTop: 10,\n\n\n  },\n  loading: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\n\nexport default App;\n"],"mappings":"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"}